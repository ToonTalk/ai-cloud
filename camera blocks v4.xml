<blocks app="Snap! 4.0, http://snap.berkeley.edu" version="1"><block-definition s="Ask %&apos;cloud provider&apos; to say what it sees then %&apos;then receive response&apos; and show the picture %&apos;show photo?&apos;" type="command" category="sensing"><header></header><code></code><inputs><input type="%txt"><options>Google
Microsoft
IBM Watson</options></input><input type="%cmdRing"></input><input type="%s"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>take_picture_and_analyse</l><list><block var="cloud provider"/><block var="show photo?"/><block var="then receive response"/></list></custom-block></script></block-definition><block-definition s="Do %&apos;handle response&apos; with what Google sees and show the photo %&apos;show&apos;" type="command" category="sensing"><header></header><code></code><inputs><input type="%cmdRing"></input><input type="%b"></input></inputs><script><custom-block s="Ask %txt to say what it sees then %cmdRing and show the picture %s"><l>Google</l><block s="reifyScript"><script><block s="doRun"><block var="handle response"/><list><custom-block s="Google labels"></custom-block></list></block></script><list><l>response</l></list></block><block var="show"/></custom-block></script></block-definition><block-definition s="Do %&apos;handle response&apos; with what IBM Watson sees and show the photo %&apos;show&apos;" type="command" category="sensing"><header></header><code></code><inputs><input type="%cmdRing"></input><input type="%b"></input></inputs><script><custom-block s="Ask %txt to say what it sees then %cmdRing and show the picture %s"><l>Watson</l><block s="reifyScript"><script><block s="doRun"><block var="handle response"/><list><custom-block s="map %repRing over %mult%l"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><l/></block></block></autolambda><list></list></block><list><block var="response"/></list></custom-block></list></block></script><list><l>response</l></list></block><block var="show"/></custom-block></script></block-definition><block-definition s="Do %&apos;handle response&apos; with what Microsoft sees and show the photo %&apos;show&apos;" type="command" category="sensing"><header></header><code></code><inputs><input type="%cmdRing"></input><input type="%b"></input></inputs><script><custom-block s="Ask %txt to say what it sees then %cmdRing and show the picture %s"><l>Microsoft</l><block s="reifyScript"><script><block s="doRun"><block var="handle response"/><list><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block s="reportListItem"><l>2</l><block s="reportListItem"><l>3</l><block var="responses"/></block></block></block></block></list></block></script><list><l>responses</l></list></block><block var="show"/></custom-block></script></block-definition><block-definition s="IBM Watson image descriptions of new photo" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doDeclareVariables"><list><l>response</l></list></block><block s="doSetVar"><l>response</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Do %cmdRing with what IBM Watson sees and show the photo %b"><block s="reifyScript"><script><block s="doSetVar"><l>response</l><block var="r"/></block></script><list><l>r</l></list></block><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><block s="doWaitUntil"><block s="reportNot"><block s="reportEquals"><block var="response"/><block s="reportBoolean"><l><bool>false</bool></l></block></block></block></block><block s="doReport"><block var="response"/></block></script></block-definition><block-definition s="Google image descriptions of new photo" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doDeclareVariables"><list><l>response</l></list></block><block s="doSetVar"><l>response</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Do %cmdRing with what Google sees and show the photo %b"><block s="reifyScript"><script><block s="doSetVar"><l>response</l><block var="r"/></block></script><list><l>r</l></list></block><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><block s="doWaitUntil"><block s="reportNot"><block s="reportEquals"><block var="response"/><block s="reportBoolean"><l><bool>false</bool></l></block></block></block></block><block s="doReport"><block var="response"/></block></script></block-definition><block-definition s="Microsoft image descriptions of new photo" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doDeclareVariables"><list><l>response</l></list></block><block s="doSetVar"><l>response</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Do %cmdRing with what Microsoft sees and show the photo %b"><block s="reifyScript"><script><block s="doSetVar"><l>response</l><block var="r"/></block></script><list><l>r</l></list></block><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><block s="doWaitUntil"><block s="reportNot"><block s="reportEquals"><block var="response"/><block s="reportBoolean"><l><bool>false</bool></l></block></block></block></block><block s="doReport"><block var="response"/></block></script></block-definition><block-definition s="Recognize image %&apos;cloud provider&apos;" type="reporter" category="sensing"><header></header><code></code><inputs><input type="%s"><options>Google
Microsoft
IBM Watson</options></input></inputs><script><block s="doDeclareVariables"><list><l>response</l></list></block><block s="doSetVar"><l>response</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Ask %txt to say what it sees then %cmdRing and show the picture %s"><block var="cloud provider"/><block s="reifyScript"><script><block s="doSetVar"><l>response</l><block var="r"/></block></script><list><l>r</l></list></block><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><block s="doWaitUntil"><block s="reportNot"><block s="reportEquals"><block var="response"/><block s="reportBoolean"><l><bool>false</bool></l></block></block></block></block><block s="doReport"><block var="response"/></block></script></block-definition><block-definition s="Current image property from %&apos;cloud provider&apos; get %&apos;property name or names&apos;" type="reporter" category="sensing"><header></header><code></code><inputs><input type="%txt"><options>Google
Microsoft
IBM Watson</options></input><input type="%mult%txt"></input></inputs><script><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>image_property</l><list><block var="cloud provider"/><block var="property name or names"/></list></custom-block></block></script></block-definition><block-definition s="IBM Watson scores" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt get %mult%txt"><l>IBM Watson</l><list><l>score</l></list></custom-block></block></script></block-definition><block-definition s="IBM Watson classes" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt get %mult%txt"><l>IBM Watson</l><list><l>class</l></list></custom-block></block></script></block-definition><block-definition s="Microsoft first caption" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><block s="reportListItem"><l>1</l><custom-block s="Current image property from %txt get %mult%txt"><l>Microsoft</l><list><l>description</l><l>captions</l><l>text</l></list></custom-block></block></block></script></block-definition><block-definition s="Google labels" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt get %mult%txt"><l>Google</l><list><l>labelAnnotations</l><l>description</l></list></custom-block></block></script></block-definition><block-definition s="Google label scores" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt get %mult%txt"><l>Google</l><list><l>labelAnnotations</l><l>score</l></list></custom-block></block></script></block-definition><block-definition s="Microsoft labels" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt get %mult%txt"><l>Microsoft</l><list><l>description</l><l>tags</l></list></custom-block></block></script></block-definition></blocks>